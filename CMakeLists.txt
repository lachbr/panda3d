if(NOT BUILD_DTOOL)
  message(FATAL_ERROR "Cannot build panda without dtool!  Please enable the BUILD_DTOOL option.")
endif()

# Not sure where I want to hide these inludes yet, but it is annoying
# to have to add them to every CMakeLists that either directly, or
# recursively includes linmath, and other libraries etc...
if(HAVE_EIGEN)
  include_directories(${EIGEN3_INCLUDE_DIR})
endif()
if(HAVE_FFTW)
  include_directories(${FFTW2_INCLUDE_DIR})
endif()
if(HAVE_CG)
  include_directories(${CG_INCLUDE_DIRS})
endif()
if(HAVE_FREETYPE)
  include_directories(${FREETYPE_INCLUDE_DIRS})
endif()

# Include panda source directories
add_subdirectory(src/pandabase)
add_subdirectory(src/express)
add_subdirectory(src/downloader)
add_subdirectory(src/pipeline)
add_subdirectory(src/putil)
add_subdirectory(src/pstatclient)
add_subdirectory(src/linmath)
add_subdirectory(src/event)
add_subdirectory(src/mathutil)
add_subdirectory(src/gsgbase)
add_subdirectory(src/pnmimage)
add_subdirectory(src/gobj)
add_subdirectory(src/pgraph)
add_subdirectory(src/pgraphnodes)
add_subdirectory(src/cull)
add_subdirectory(src/display)
add_subdirectory(src/chan)
add_subdirectory(src/char)
add_subdirectory(src/dgraph)
add_subdirectory(src/device)
add_subdirectory(src/pnmtext)
add_subdirectory(src/parametrics)
add_subdirectory(src/text)
add_subdirectory(src/grutil)
add_subdirectory(src/tform)
add_subdirectory(src/pgui)
add_subdirectory(src/recorder)

#add_subdirectory(src/framework)
#add_subdirectory(src/testbed)
